<ion-view view-title="Milestones">
  <ion-nav-buttons side="right">
    <button class="button button-icon button-clear button-positive ion-plus-round" ng-click="ctrl.create()">
    </button>
  </ion-nav-buttons>

  <ion-content>
    <ion-list>
      <ion-item show-delete="true" class="item-icon-left" ng-repeat="milestone in ctrl.milestones" href="#/app/view-milestone/{{milestone.id}}">
        <i class="icon {{milestone.type | typeIcon}}"></i>
        <span>{{milestone.title}}</span>

        <ion-option-button class="button-balanced button"
                           ng-click="ctrl.edit(milestone)">
          Edit
        </ion-option-button>
        <ion-option-button class="button-assertive button ion-minus"
                           ng-click="ctrl.delete(milestone)">
        </ion-option-button>

      </ion-item>
    </ion-list>

    <ion-infinite-scroll
      ng-if="ctrl.moreMilestonesExist()"
      icon="ion-loading-c"
      on-infinite="ctrl.loadMoreMilestones()">
    </ion-infinite-scroll>

  </ion-content>
</ion-view>
